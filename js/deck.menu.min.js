!function(i){var l,u=i(document);i("html");i.extend(!0,i.deck.defaults,{classes:{menu:"deck-menu"},keys:{menu:77},touch:{doubletapWindow:400}}),i.deck("extend","showMenu",function(){var e=i.deck("getContainer"),n=i.deck("getOptions");e.hasClass(n.classes.menu)||(e.addClass([n.classes.loading,n.classes.menu].join(" ")),Modernizr.csstransforms&&i.each(l,function(e,n){n.data("oldStyle",n.attr("style")),n.css({position:"absolute",left:e%4*25+"%",top:25*Math.floor(e/4)+"%"})}),window.setTimeout(function(){e.removeClass(n.classes.loading),e.scrollTop(i.deck("getSlide").position().top)},0))}),i.deck("extend","hideMenu",function(){var e=i.deck("getContainer"),n=i.deck("getOptions");e.hasClass(n.classes.menu)&&(e.removeClass(n.classes.menu),e.addClass(n.classes.loading),Modernizr.csstransforms&&i.each(l,function(e,n){var s=n.data("oldStyle");n.attr("style",s||"")}),window.setTimeout(function(){e.removeClass(n.classes.loading),e.scrollTop(0)},0))}),i.deck("extend","toggleMenu",function(){i.deck("getContainer").hasClass(i.deck("getOptions").classes.menu)?i.deck("hideMenu"):i.deck("showMenu")}),u.bind("deck.init",function(){var s,t,n,c,e,o,d,a;s=i.deck("getOptions"),t=i.map([s.classes.before,s.classes.previous,s.classes.current,s.classes.next,s.classes.after],function(e,n){return"."+e}).join(", "),l=[],i.each(i.deck("getSlides"),function(e,n){n.parentsUntil(s.selectors.container,t).length||l.push(n)}),n=i.deck("getOptions"),u.unbind("keydown.deckmenu"),u.bind("keydown.deckmenu",function(e){(e.which===n.keys.menu||-1<i.inArray(e.which,n.keys.menu))&&!e.ctrlKey&&(i.deck("toggleMenu"),e.preventDefault())}),e=i.deck("getContainer"),o=i.deck("getOptions"),d=0,e.unbind("touchstart.deckmenu"),e.bind("touchstart.deckmenu",function(){c=i.deck("getSlide")}),e.unbind("touchend.deckmenu"),e.bind("touchend.deckmenu",function(e){var n=Date.now(),s=n-d<o.touch.doubletapWindow;c===i.deck("getSlide")&&(s&&(i.deck("toggleMenu"),e.preventDefault()),d=n)}),a=i.deck("getOptions"),i.each(i.deck("getSlides"),function(n,e){e.unbind("click.deckmenu"),e.bind("click.deckmenu",function(e){i.deck("getContainer").hasClass(a.classes.menu)&&(i.deck("go",n),i.deck("hideMenu"),e.stopPropagation(),e.preventDefault())})})}),u.bind("deck.change",function(e,n,s){var t,c=i.deck("getContainer");c.hasClass(i.deck("getOptions").classes.menu)&&(t=c.scrollTop(),s=i.deck("getSlide",s).position().top,c.scrollTop(t+s))})}(jQuery);