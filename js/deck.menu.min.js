!function(l){var u,n=l(document);l("html");l.extend(!0,l.deck.defaults,{classes:{menu:"deck-menu"},keys:{menu:77},touch:{doubletapWindow:400}}),l.deck("extend","showMenu",function(){var e=l.deck("getContainer"),n=l.deck("getOptions");e.hasClass(n.classes.menu)||(e.addClass([n.classes.loading,n.classes.menu].join(" ")),Modernizr.csstransforms&&l.each(u,function(e,n){n.data("oldStyle",n.attr("style")),n.css({position:"absolute",left:e%4*25+"%",top:25*Math.floor(e/4)+"%"})}),window.setTimeout(function(){e.removeClass(n.classes.loading),e.scrollTop(l.deck("getSlide").position().top)},0))}),l.deck("extend","hideMenu",function(){var e=l.deck("getContainer"),n=l.deck("getOptions");e.hasClass(n.classes.menu)&&(e.removeClass(n.classes.menu),e.addClass(n.classes.loading),Modernizr.csstransforms&&l.each(u,function(e,n){var s=n.data("oldStyle");n.attr("style",s||"")}),window.setTimeout(function(){e.removeClass(n.classes.loading),e.scrollTop(0)},0))}),l.deck("extend","toggleMenu",function(){l.deck("getContainer").hasClass(l.deck("getOptions").classes.menu)?l.deck("hideMenu"):l.deck("showMenu")}),n.bind("deck.init",function(){var s,t,c,o,e,d,a,i;s=l.deck("getOptions"),t=l.map([s.classes.before,s.classes.previous,s.classes.current,s.classes.next,s.classes.after],function(e,n){return"."+e}).join(", "),u=[],l.each(l.deck("getSlides"),function(e,n){n.parentsUntil(s.selectors.container,t).length||u.push(n)}),c=l.deck("getOptions"),n.unbind("keydown.deckmenu"),n.bind("keydown.deckmenu",function(e){var n=e.which===c.keys.menu;(n=n||-1<l.inArray(e.which,c.keys.menu))&&!e.ctrlKey&&(l.deck("toggleMenu"),e.preventDefault())}),e=l.deck("getContainer"),d=l.deck("getOptions"),a=0,e.unbind("touchstart.deckmenu"),e.bind("touchstart.deckmenu",function(){o=l.deck("getSlide")}),e.unbind("touchend.deckmenu"),e.bind("touchend.deckmenu",function(e){var n=Date.now(),s=n-a<d.touch.doubletapWindow;o===l.deck("getSlide")&&(s&&(l.deck("toggleMenu"),e.preventDefault()),a=n)}),i=l.deck("getOptions"),l.each(l.deck("getSlides"),function(n,e){e.unbind("click.deckmenu"),e.bind("click.deckmenu",function(e){l.deck("getContainer").hasClass(i.classes.menu)&&(l.deck("go",n),l.deck("hideMenu"),e.stopPropagation(),e.preventDefault())})})}),n.bind("deck.change",function(e,n,s){var t,c,o=l.deck("getContainer");o.hasClass(l.deck("getOptions").classes.menu)&&(t=o.scrollTop(),c=l.deck("getSlide",s).position().top,o.scrollTop(t+c))})}(jQuery);