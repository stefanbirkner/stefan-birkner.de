!function(d){var a,o=d(document);d.extend(!0,d.deck.defaults,{classes:{goto:"deck-goto"},selectors:{gotoDatalist:"#goto-datalist",gotoForm:".goto-form",gotoInput:"#goto-slide"},keys:{goto:71},countNested:!0}),d.deck("extend","showGoTo",function(){var e=d.deck("getOptions");d.deck("getContainer").addClass(e.classes.goto),d(e.selectors.gotoForm).attr("aria-hidden",!1),d(e.selectors.gotoInput).focus()}),d.deck("extend","hideGoTo",function(){var e=d.deck("getOptions");d(e.selectors.gotoInput).blur(),d.deck("getContainer").removeClass(e.classes.goto),d(e.selectors.gotoForm).attr("aria-hidden",!0)}),d.deck("extend","toggleGoTo",function(){var e=d.deck("getOptions"),e=d.deck("getContainer").hasClass(e.classes.goto);d.deck(e?"hideGoTo":"showGoTo")}),o.bind("deck.init",function(){var t,s,n,c,e;o.unbind("keydown.deckgoto"),o.bind("keydown.deckgoto",function(e){var o=d.deck("getOptions").keys.goto;(e.which===o||-1<d.inArray(e.which,o))&&(e.preventDefault(),d.deck("toggleGoTo"))}),e=d.deck("getOptions"),t=d(e.selectors.gotoDatalist),d.each(d.deck("getSlides"),function(e,o){o=o.attr("id");o&&t.append('<option value="'+o+'">')}),s=d.deck("getOptions"),n=d.map([s.classes.before,s.classes.previous,s.classes.current,s.classes.next,s.classes.after],function(e,o){return"."+e}).join(", "),a=0,d.each(d.deck("getSlides"),function(e,o){o.parentsUntil(s.selectors.container,n).length?o.removeData("rootIndex"):s.countNested||(++a,o.data("rootIndex",a))}),c=d.deck("getOptions"),(e=d(c.selectors.gotoForm)).unbind("submit.deckgoto"),e.bind("submit.deckgoto",function(e){var o=d(c.selectors.gotoInput),t=o.val(),s=parseInt(t,10);if(!c.countNested){if(!isNaN(s)&&a<=s)return!1;d.each(d.deck("getSlides"),function(e,o){if(o.data("rootIndex")===s)return s=e+1,!1})}d.deck("go",isNaN(s)?t:s-1),d.deck("hideGoTo"),o.val(""),e.preventDefault()})})}(jQuery);