!function(d){function s(){var l=d.deck("getOptions"),t=d.deck("getContainer"),i=l.baseHeight;i=i||t.height(),d.each(o,function(e,s){var c=s.innerHeight(),n=s.find("."+l.classes.scaleSlideWrapper),a=t.hasClass(l.classes.scale)?i/c:1;1==a?n.css("transform",""):(n.css("transform","scale("+a+")"),window.setTimeout(function(){t.scrollTop(0)},1))})}var t,o,i=d(document),r=d(window);d.extend(!0,d.deck.defaults,{classes:{scale:"deck-scale",scaleSlideWrapper:"deck-slide-scaler"},keys:{scale:83},baseHeight:null,scaleDebounce:200}),d.deck("extend","disableScale",function(){d.deck("getContainer").removeClass(d.deck("getOptions").classes.scale),s()}),d.deck("extend","enableScale",function(){d.deck("getContainer").addClass(d.deck("getOptions").classes.scale),s()}),d.deck("extend","toggleScale",function(){var e=d.deck("getContainer").hasClass(d.deck("getOptions").classes.scale);d.deck(e?"disableScale":"enableScale")}),i.bind("deck.init",function(){var c,n,a,e,l;c=d.deck("getOptions"),n=d.map([c.classes.before,c.classes.previous,c.classes.current,c.classes.next,c.classes.after],function(e,s){return"."+e}).join(", "),o=[],d.each(d.deck("getSlides"),function(e,s){s.parentsUntil(c.selectors.container,n).length||o.push(s)}),a='<div class="'+d.deck("getOptions").classes.scaleSlideWrapper+'"/>',d.each(o,function(e,s){s.children().wrapAll(a)}),e=d.deck("getOptions"),r.unbind("resize.deckscale"),r.bind("resize.deckscale",function(){window.clearTimeout(t),t=window.setTimeout(s,e.scaleDebounce)}),d.deck("enableScale"),r.unbind("load.deckscale"),r.bind("load.deckscale",s),l=d.deck("getOptions"),i.unbind("keydown.deckscale"),i.bind("keydown.deckscale",function(e){var s=e.which===l.keys.scale;(s=s||-1<d.inArray(e.which,l.keys.scale))&&(d.deck("toggleScale"),e.preventDefault())})})}(jQuery);