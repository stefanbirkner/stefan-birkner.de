!function(t){function l(){var n=t.deck("getOptions"),a=t.deck("getContainer"),l=(l=n.baseHeight)||a.height();t.each(d,function(e,s){var c=s.innerHeight(),s=s.find("."+n.classes.scaleSlideWrapper),c=a.hasClass(n.classes.scale)?l/c:1;1==c?s.css("transform",""):(s.css("transform","scale("+c+")"),window.setTimeout(function(){a.scrollTop(0)},1))})}var i,d,o=t(document),r=t(window);t.extend(!0,t.deck.defaults,{classes:{scale:"deck-scale",scaleSlideWrapper:"deck-slide-scaler"},keys:{scale:83},baseHeight:null,scaleDebounce:200}),t.deck("extend","disableScale",function(){t.deck("getContainer").removeClass(t.deck("getOptions").classes.scale),l()}),t.deck("extend","enableScale",function(){t.deck("getContainer").addClass(t.deck("getOptions").classes.scale),l()}),t.deck("extend","toggleScale",function(){var e=t.deck("getContainer").hasClass(t.deck("getOptions").classes.scale);t.deck(e?"disableScale":"enableScale")}),o.bind("deck.init",function(){var c,n,a,e,s;c=t.deck("getOptions"),n=t.map([c.classes.before,c.classes.previous,c.classes.current,c.classes.next,c.classes.after],function(e,s){return"."+e}).join(", "),d=[],t.each(t.deck("getSlides"),function(e,s){s.parentsUntil(c.selectors.container,n).length||d.push(s)}),a='<div class="'+t.deck("getOptions").classes.scaleSlideWrapper+'"/>',t.each(d,function(e,s){s.children().wrapAll(a)}),e=t.deck("getOptions"),r.unbind("resize.deckscale"),r.bind("resize.deckscale",function(){window.clearTimeout(i),i=window.setTimeout(l,e.scaleDebounce)}),t.deck("enableScale"),r.unbind("load.deckscale"),r.bind("load.deckscale",l),s=t.deck("getOptions"),o.unbind("keydown.deckscale"),o.bind("keydown.deckscale",function(e){(e.which===s.keys.scale||-1<t.inArray(e.which,s.keys.scale))&&(t.deck("toggleScale"),e.preventDefault())})})}(jQuery);